
<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>AQUASHOUW PISCINAS - Sistema</title>
<style>
    body { font-family: Arial, sans-serif; background: #f2f2f2; margin: 0; padding: 0; }
    header { background: #0077b6; color: white; padding: 15px; text-align: center; }
    .container { max-width: 800px; margin: 30px auto; background: white; padding: 20px; border-radius: 10px; }
    h2 { color: #0077b6; }
    input, select, button, textarea { width: 100%; padding: 10px; margin: 5px 0; }
    button { background: #0077b6; color: white; border: none; cursor: pointer; }
    button:hover { background: #005f8a; }
    .hidden { display: none; }
    table { width: 100%; border-collapse: collapse; margin-top: 10px; }
    th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
    th { background: #0077b6; color: white; }
</style>
</head>
<body>
<header>
    <h1>AQUASHOUW PISCINAS</h1>
</header>
<div class="container" id="login-section">
    <h2>Login</h2>
    <input type="text" id="username" placeholder="Usuário">
    <input type="password" id="password" placeholder="Senha">
    <select id="userType">
        <option value="">Selecione o tipo de acesso</option>
        <option value="admin">Administrador</option>
        <option value="funcionario">Funcionário</option>
        <option value="cliente">Cliente</option>
    </select>
    <button onclick="login()">Entrar</button>
</div>

<div class="container hidden" id="admin-panel">
    <h2>Painel do Administrador</h2>
    <button onclick="showSection('clientes')">Gerenciar Clientes</button>
    <button onclick="showSection('funcionarios')">Gerenciar Funcionários</button>
    <button onclick="showSection('avaliacoes')">Ver Avaliações</button>
    <button onclick="showSection('senha')">Alterar Senha</button>
    <div id="admin-content"></div>
</div>

<div class="container hidden" id="funcionario-panel">
    <h2>Painel do Funcionário</h2>
    <p>Aqui você verá suas metas semanais e piscinas designadas.</p>
</div>

<div class="container hidden" id="cliente-panel">
    <h2>Painel do Cliente</h2>
    <button onclick="alert('Chamado de emergência enviado!')">Chamada de Emergência</button>
    <h3>Avaliar Funcionário</h3>
    <select id="avaliacao">
        <option value="1">1 estrela</option>
        <option value="2">2 estrelas</option>
        <option value="3">3 estrelas</option>
        <option value="4">4 estrelas</option>
        <option value="5">5 estrelas</option>
    </select>
    <button onclick="salvarAvaliacao()">Enviar Avaliação</button>
</div>

<script>
let adminSenha = "123";
let avaliacoes = JSON.parse(localStorage.getItem("avaliacoes")) || [];
let clientes = JSON.parse(localStorage.getItem("clientes")) || [];
let funcionarios = JSON.parse(localStorage.getItem("funcionarios")) || [];

function login() {
    const user = document.getElementById("username").value;
    const pass = document.getElementById("password").value;
    const type = document.getElementById("userType").value;

    if (type === "admin" && user === "admin" && pass === adminSenha) {
        document.getElementById("login-section").classList.add("hidden");
        document.getElementById("admin-panel").classList.remove("hidden");
    } else if (type === "funcionario" && user === "funcionario" && pass === "123") {
        document.getElementById("login-section").classList.add("hidden");
        document.getElementById("funcionario-panel").classList.remove("hidden");
    } else if (type === "cliente" && user === "cliente" && pass === "123") {
        document.getElementById("login-section").classList.add("hidden");
        document.getElementById("cliente-panel").classList.remove("hidden");
    } else {
        alert("Credenciais inválidas!");
    }
}

function showSection(section) {
    let content = document.getElementById("admin-content");
    content.innerHTML = "";

    if (section === "clientes") {
        content.innerHTML = `
            <h3>Clientes</h3>
            <form onsubmit="adicionarCliente(event)">
                <input type="text" id="clienteNome" placeholder="Nome" required>
                <input type="text" id="clienteEndereco" placeholder="Endereço" required>
                <input type="text" id="clienteContato" placeholder="Contato" required>
                <button type="submit">Adicionar Cliente</button>
            </form>
            <table>
                <tr><th>Nome</th><th>Endereço</th><th>Contato</th><th>Ações</th></tr>
                ${clientes.map((c, i) => `<tr><td>${c.nome}</td><td>${c.endereco}</td><td>${c.contato}</td><td><button onclick="removerCliente(${i})">Remover</button></td></tr>`).join("")}
            </table>
        `;
    } else if (section === "funcionarios") {
        content.innerHTML = `
            <h3>Funcionários</h3>
            <form onsubmit="adicionarFuncionario(event)">
                <input type="text" id="funcNome" placeholder="Nome" required>
                <input type="number" id="funcMeta" placeholder="Meta semanal" required>
                <button type="submit">Adicionar Funcionário</button>
            </form>
            <table>
                <tr><th>Nome</th><th>Meta Semanal</th><th>Ações</th></tr>
                ${funcionarios.map((f, i) => `<tr><td>${f.nome}</td><td>${f.meta}</td><td><button onclick="removerFuncionario(${i})">Remover</button></td></tr>`).join("")}
            </table>
        `;
    } else if (section === "avaliacoes") {
        content.innerHTML = `
            <h3>Avaliações</h3>
            <table>
                <tr><th>Avaliação</th></tr>
                ${avaliacoes.map(a => `<tr><td>${a} estrelas</td></tr>`).join("")}
            </table>
        `;
    } else if (section === "senha") {
        content.innerHTML = `
            <h3>Alterar Senha do Administrador</h3>
            <input type="password" id="novaSenha" placeholder="Nova senha">
            <button onclick="alterarSenha()">Alterar</button>
        `;
    }
}

function adicionarCliente(event) {
    event.preventDefault();
    const nome = document.getElementById("clienteNome").value;
    const endereco = document.getElementById("clienteEndereco").value;
    const contato = document.getElementById("clienteContato").value;
    clientes.push({ nome, endereco, contato });
    localStorage.setItem("clientes", JSON.stringify(clientes));
    showSection('clientes');
}

function removerCliente(i) {
    clientes.splice(i, 1);
    localStorage.setItem("clientes", JSON.stringify(clientes));
    showSection('clientes');
}

function adicionarFuncionario(event) {
    event.preventDefault();
    const nome = document.getElementById("funcNome").value;
    const meta = document.getElementById("funcMeta").value;
    funcionarios.push({ nome, meta });
    localStorage.setItem("funcionarios", JSON.stringify(funcionarios));
    showSection('funcionarios');
}

function removerFuncionario(i) {
    funcionarios.splice(i, 1);
    localStorage.setItem("funcionarios", JSON.stringify(funcionarios));
    showSection('funcionarios');
}

function salvarAvaliacao() {
    const avaliacao = document.getElementById("avaliacao").value;
    avaliacoes.push(avaliacao);
    localStorage.setItem("avaliacoes", JSON.stringify(avaliacoes));
    alert("Avaliação salva!");
}

function alterarSenha() {
    const nova = document.getElementById("novaSenha").value;
    if (nova) {
        adminSenha = nova;
        alert("Senha alterada com sucesso!");
    }
}
</script>
</body>
</html>
